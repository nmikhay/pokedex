{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nadia\\\\OneDrive\\\\Desktop\\\\Pokemon Final\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport { useState, useMemo, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Axios from \"axios\";\nimport PropTypes from \"prop-types\";\nimport BackgroundImage from \"../components/ui/BackgroundImage\";\nimport CardsContainer from \"../components/ui/CardComponents/CardsContainer\";\nimport SmallCard from \"../components/ui/CardComponents/SmallCard\";\nimport Loader from \"../components/ui/Loader.js\";\nimport Error from \"./errors/Error\";\nimport Pagination from \"../components/ui/Pagination\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Home(_ref) {\n  _s();\n  var _sortedPokemonData$;\n  let {\n    searchTerm,\n    sortOption,\n    openBigCard\n  } = _ref;\n  const [page, setPage] = useState(1);\n  const [sortedPokemonData, setSortedPokemonData] = useState([]);\n  const limit = 100;\n  const fetchPokemon = async () => {\n    if (searchTerm) {\n      const response = await Axios.get(`https://pokeapi.co/api/v2/pokemon/${searchTerm.toLowerCase()}`);\n      return [response.data];\n    } else {\n      const response = await Axios.get(`https://pokeapi.co/api/v2/pokemon?offset=${(page - 1) * limit}&limit=${limit}`);\n      const {\n        results\n      } = response.data;\n      const responses = await Promise.all(results.map(result => Axios.get(result.url)));\n      return responses.map(res => res.data);\n    }\n  };\n  const {\n    data: pokemonData,\n    isLoading,\n    isError\n  } = useQuery([\"pokemon\", searchTerm, page], fetchPokemon);\n  useEffect(() => {\n    if (pokemonData) {\n      let sortedData = [...pokemonData];\n      switch (sortOption) {\n        case 'heightDesc':\n          sortedData.sort((a, b) => b.height - a.height);\n          break;\n        case 'heightAsc':\n          sortedData.sort((a, b) => a.height - b.height);\n          break;\n        case 'weightDesc':\n          sortedData.sort((a, b) => b.weight - a.weight);\n          break;\n        case 'weightAsc':\n          sortedData.sort((a, b) => a.weight - b.weight);\n          break;\n        default:\n          break;\n      }\n      setSortedPokemonData(sortedData);\n    }\n  }, [pokemonData, sortOption]);\n  const getSprite = useMemo(() => data => {\n    if ((data === null || data === void 0 ? void 0 : data.id) >= 906 && (data === null || data === void 0 ? void 0 : data.id) <= 1008) {\n      return data.sprites.other[\"official-artwork\"][\"front_default\"];\n    } else if ((data === null || data === void 0 ? void 0 : data.id) < 1009) {\n      return data.sprites.other.home.front_default;\n    }\n    return null;\n  }, []);\n  const renderPokemonCard = pokemon => {\n    const image = getSprite(pokemon);\n    return /*#__PURE__*/_jsxDEV(SmallCard, {\n      height: `${pokemon.height * 10}`,\n      id: pokemon.id,\n      image: image,\n      name: pokemon.species.name,\n      weight: `${pokemon.weight / 10}`,\n      openBigCard: openBigCard\n    }, pokemon.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(BackgroundImage, {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this) : isError || !((_sortedPokemonData$ = sortedPokemonData[0]) !== null && _sortedPokemonData$ !== void 0 && _sortedPokemonData$.id) ? /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Pagination, {\n        page: page,\n        handlePrevClick: () => setPage(prev => Math.max(prev - 1, 1)),\n        handleNextClick: () => setPage(prev => prev + 1),\n        handleFirstClick: () => setPage(1),\n        handleLastClick: () => setPage(11)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardsContainer, {\n        children: sortedPokemonData.map(renderPokemonCard)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        page: page,\n        handlePrevClick: () => setPage(prev => Math.max(prev - 1, 1)),\n        handleNextClick: () => setPage(prev => prev + 1),\n        handleFirstClick: () => setPage(1),\n        handleLastClick: () => setPage(11)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"3GtpzYPGYhWHOqSa9F3+dld7zNw=\", false, function () {\n  return [useQuery];\n});\n_c = Home;\nHome.propTypes = {\n  searchTerm: PropTypes.string,\n  sortOption: PropTypes.string,\n  openBigCard: PropTypes.func.isRequired\n};\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useState","useMemo","useEffect","useQuery","Axios","PropTypes","BackgroundImage","CardsContainer","SmallCard","Loader","Error","Pagination","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_ref","_s","_sortedPokemonData$","searchTerm","sortOption","openBigCard","page","setPage","sortedPokemonData","setSortedPokemonData","limit","fetchPokemon","response","get","toLowerCase","data","results","responses","Promise","all","map","result","url","res","pokemonData","isLoading","isError","sortedData","sort","a","b","height","weight","getSprite","id","sprites","other","home","front_default","renderPokemonCard","pokemon","image","name","species","fileName","_jsxFileName","lineNumber","columnNumber","children","handlePrevClick","prev","Math","max","handleNextClick","handleFirstClick","handleLastClick","_c","propTypes","string","func","isRequired","$RefreshReg$"],"sources":["C:/Users/nadia/OneDrive/Desktop/Pokemon Final/src/pages/Home.js"],"sourcesContent":["import { useState, useMemo, useEffect } from \"react\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport Axios from \"axios\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport BackgroundImage from \"../components/ui/BackgroundImage\";\r\nimport CardsContainer from \"../components/ui/CardComponents/CardsContainer\";\r\nimport SmallCard from \"../components/ui/CardComponents/SmallCard\";\r\nimport Loader from \"../components/ui/Loader.js\";\r\nimport Error from \"./errors/Error\";\r\nimport Pagination from \"../components/ui/Pagination\";\r\n\r\nfunction Home({ searchTerm, sortOption, openBigCard }) {\r\n  const [page, setPage] = useState(1);\r\n  const [sortedPokemonData, setSortedPokemonData] = useState([]);\r\n  const limit = 100;\r\n\r\n  const fetchPokemon = async () => {\r\n    if (searchTerm) {\r\n      const response = await Axios.get(\r\n        `https://pokeapi.co/api/v2/pokemon/${searchTerm.toLowerCase()}`\r\n      );\r\n      return [response.data];\r\n    } else {\r\n      const response = await Axios.get(\r\n        `https://pokeapi.co/api/v2/pokemon?offset=${(page - 1) * limit}&limit=${limit}`\r\n      );\r\n      const { results } = response.data;\r\n      const responses = await Promise.all(results.map((result) => Axios.get(result.url)));\r\n      return responses.map((res) => res.data);\r\n    }\r\n  };\r\n\r\n  const {\r\n    data: pokemonData,\r\n    isLoading,\r\n    isError,\r\n  } = useQuery([\"pokemon\", searchTerm, page], fetchPokemon);\r\n\r\n  useEffect(() => {\r\n    if (pokemonData) {\r\n      let sortedData = [...pokemonData];\r\n\r\n      switch (sortOption) {\r\n        case 'heightDesc':\r\n          sortedData.sort((a, b) => b.height - a.height);\r\n          break;\r\n        case 'heightAsc':\r\n          sortedData.sort((a, b) => a.height - b.height);\r\n          break;\r\n        case 'weightDesc':\r\n          sortedData.sort((a, b) => b.weight - a.weight);\r\n          break;\r\n        case 'weightAsc':\r\n          sortedData.sort((a, b) => a.weight - b.weight);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      \r\n      setSortedPokemonData(sortedData);\r\n    }\r\n  }, [pokemonData, sortOption]);\r\n\r\n  const getSprite = useMemo(() => (data) => {\r\n    if (data?.id >= 906 && data?.id <= 1008) {\r\n      return data.sprites.other[\"official-artwork\"][\"front_default\"];\r\n    } else if (data?.id < 1009) {\r\n      return data.sprites.other.home.front_default;\r\n    }\r\n    return null;\r\n  }, []);\r\n\r\n  const renderPokemonCard = (pokemon) => {\r\n    const image = getSprite(pokemon);\r\n    return (\r\n      <SmallCard\r\n        height={`${pokemon.height * 10}`}\r\n        id={pokemon.id}\r\n        image={image}\r\n        key={pokemon.id}\r\n        name={pokemon.species.name}\r\n        weight={`${pokemon.weight / 10}`}\r\n        openBigCard={openBigCard}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <BackgroundImage>\r\n      {isLoading ? (\r\n        <Loader />\r\n      ) : isError || !sortedPokemonData[0]?.id ? (\r\n        <Error />\r\n      ) : (\r\n        <>\r\n          <Pagination\r\n            page={page}\r\n            handlePrevClick={() => setPage((prev) => Math.max(prev - 1, 1))}\r\n            handleNextClick={() => setPage((prev) => prev + 1)}\r\n            handleFirstClick={() => setPage(1)}\r\n            handleLastClick={() => setPage(11)}\r\n          />\r\n          <CardsContainer>\r\n            {sortedPokemonData.map(renderPokemonCard)}\r\n          </CardsContainer>\r\n          <Pagination\r\n            page={page}\r\n            handlePrevClick={() => setPage((prev) => Math.max(prev - 1, 1))}\r\n            handleNextClick={() => setPage((prev) => prev + 1)}\r\n            handleFirstClick={() => setPage(1)}\r\n            handleLastClick={() => setPage(11)}\r\n          />\r\n        </>\r\n      )}\r\n    </BackgroundImage>\r\n  );\r\n}\r\n\r\nHome.propTypes = {\r\n  searchTerm: PropTypes.string,\r\n  sortOption: PropTypes.string,\r\n  openBigCard: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Home;\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}